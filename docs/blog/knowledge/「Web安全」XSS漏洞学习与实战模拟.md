---
date: 2024-09-22 15:00:00
---

# 「Web安全」XSS漏洞学习与实战模拟

## 0x01 XSS简介

XSS（Cross Siet Scripting）攻击全称跨站脚本攻击，为了防止与层叠样式表（Cascading Style Sheets，CSS）的缩写混淆，所以将跨站脚本攻击缩写为 XSS，XSS是一种经常出现在Web应用中的计算机安全漏洞，它允许恶意Web用户将代码植入到提供给其它用户使用的页面中，当受害者访问这些页面的时候，浏览器会解析并执行这些恶意代码，从而达到窃取用户身份/钓鱼/传播恶意代码等行为。

XSS漏洞产生的过程可以简单分为：
1. 攻击者找到一个可以输入数据的地方（例如表单、URL参数等）；
2. 攻击者输入包含恶意脚本的数据；
3. 网站将这些数据存储或反射到页面上；
4. 其他用户访问包含恶意脚本的页面。
5. 用户的浏览器无法区分正常脚本和恶意脚本，因此执行了攻击者的代码。

XSS漏洞的类型可以分为：
1. 反射型XSS：恶意脚本从用户的请求中反射出来，而不是服务器端。
2. 存储型XSS：恶意脚本被永久存储在目标服务器上（例如数据库中）。
3. DOM型XSS：漏洞存在于客户端JavaScript代码中，而不是服务器端。

### 1. 反射型XSS

#### 1.1 攻击流程

反射型XSS非持久化，需要欺骗用户自己去点击链接才能触发XSS代码（服务器中没有这样的页面和内容），一般容易出现在搜索页面，在发生请求时，XSS代码出现在请求URL中，作为参数提交到服务器端，服务器解析并响应。响应结果中包含XSS代码，最后浏览器解析并执行，从概念上可以看出，反射型XSS代码是首先出现在URL中的，然后需要服务端解析，最后需要浏览器解析之后XSS代码才能够攻击。这类攻击手段大多数是用来盗取用户的Cookie信息的。

流程图如下：
